<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ecomposer.co</title>
    <link rel="stylesheet" href="./asset/asset.css" />
    <link rel="stylesheet" href="./asset/base.css" />
    <link rel="stylesheet" href="./asset/bootstrap-5.0.2-dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet" />
    
        <style>
            .btn-no-style {
                background: none;
                border: none;
                color: #fff; /* Màu chữ của nút */
                font-weight: bold; /* Màu chữ đậm */
                text-decoration: none; /* Bỏ gạch chân */
                padding: 0;
                cursor: pointer;
            }
        </style>
</head>

<body>
    <header>
        <div class="container-fluid">
            <nav class="fixed-top bg-white">
                <div class="container-primary">
                    <div class="ec-header pt-4 pb-4">
                        <div class="row">
                            <div class="col-3 ec-header-dropdown d-lg-none align-items-center d-flex">
                                <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas"
                                    data-bs-target="#offcanvasWithBackdrop" aria-controls="offcanvasWithBackdrop">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                                        fill="none">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M2.5 11.5C2.5 11.2239 2.72386 11 3 11H13C13.2761 11 13.5 11.2239 13.5 11.5C13.5 11.7761 13.2761 12 13 12H3C2.72386 12 2.5 11.7761 2.5 11.5Z"
                                            fill="white" />
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M2.5 7.5C2.5 7.22386 2.72386 7 3 7H13C13.2761 7 13.5 7.22386 13.5 7.5C13.5 7.77614 13.2761 8 13 8H3C2.72386 8 2.5 7.77614 2.5 7.5Z"
                                            fill="white" />
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M2.5 3.5C2.5 3.22386 2.72386 3 3 3H13C13.2761 3 13.5 3.22386 13.5 3.5C13.5 3.77614 13.2761 4 13 4H3C2.72386 4 2.5 3.77614 2.5 3.5Z"
                                            fill="white" />
                                    </svg>
                                </button>
                                <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasWithBackdrop"
                                    aria-labelledby="offcanvasWithBackdropLabel">
                                    <div class="offcanvas-header">
                                        <h5 class="offcanvas-title" id="offcanvasWithBackdropLabel">
                                            Menu
                                        </h5>
                                        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="offcanvas-body">
                                        <div class="ec-header-menu d-flex flex-column justify-content-center">
                                            <div class="ec-header-item mb-3">
                                                <a href="https://deadinside.pages.dev/public/home" class="ec-header-item-link text-decoration-none">Trang chủ</a>
                                            </div>
                                            <div class="ec-header-item mb-3">
                                                <a href="https://deadinside.pages.dev/public/joblist" class="ec-header-item-link text-decoration-none">Tìm việc làm</a>
                                            </div>
                                            <div class="ec-header-item ms-4 me-4">
                                                <a id="accountBT1" href="https://deadinside.pages.dev/public/login" class="ec-header-item-link text-decoration-none">Tài khoản</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-6 d-flex justify-content-center align-items-center">
                                <img width="200px" class="ec-header-logo" src="./asset/media/img/ecomposer-logo.png"
                                    alt="" />
                            </div>
                            <div class="col-lg-8 d-lg-flex d-none justify-content-center align-items-center">
                                <div class="ec-header-menu d-flex justify-content-center">
                                    <div class="ec-header-item ms-4 me-4">
                                        <a href="https://deadinside.pages.dev/public/home" class="ec-header-item-link text-decoration-none">Trang chủ</a>
                                    </div>
                                    <div class="ec-header-item ms-4 me-4">
                                        <a href="https://deadinside.pages.dev/public/joblist" class="ec-header-item-link text-decoration-none">Tìm việc làm</a>
                                    </div>
                                    <div class="ec-header-item ms-4 me-4">
                                        <a id="accountBT2" href="https://deadinside.pages.dev/public/login" class="ec-header-item-link text-decoration-none">Tài khoản</a>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="col-lg-2 col-3 d-flex justify-content-end justify-content-xl-center align-items-center">
                                <div class="ec-header-login-register" id="auth-buttons">
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <main>
        <div class="container-fluid p-0">
            <div class="ec-heading-page text-center">
                <div class="ec-heading-page-text">
                    Log In
                </div>
            </div>
            <div class="container-primary">
                <div class="ec-login-box">
                    <div class="row justify-content-between">
                        <div class="col-lg-5">
                            <div class="ec-login-block">
                                <div class="ec-login-title">
                                    Đăng Nhập
                                </div>
                                <form action="" name="login-form" id="login-form">
                                    <input type="username" id="username" name="username" class="ec-login-input w-100 mb-3" placeholder="Email*">
                                    <input type="password" id="password" name="password" class="ec-login-input w-100 mb-4" placeholder="Password*">
                                    <a href="" class="ec-login-forgot mb-4 d-block">Bạn không nhớ mật khẩu?</a>
                                    <input class="ec-login-submit" type="submit" value="Sign in">
                                </form>
                                
                            </div>
                        </div>
                        <div class="col-lg-5">
                            <div class="ec-login-title">
                                Tôi là thành viên mới
                            </div>
                            <p class="ec-login-para">
                                Đăng ký để có quyền truy cập và cập nhật thông tin công việc ngay lập tức. Để từ chối, hãy nhấp vào hủy đăng ký trong email của chúng tôi.
                            </p>
                            <a href="" class="ec-login-to-register-login mb-4 d-block text-decoration-none d-flex align-items-center">
                                Đăng Kí?
                                <svg class="ms-2" xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 12 12" fill="currentColor">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0.5C12 0.223858 11.7761 0 11.5 0H5.5C5.22386 0 5 0.223858 5 0.5C5 0.776142 5.22386 1 5.5 1H10.2929L0.146446 11.1464C-0.0488157 11.3417 -0.0488157 11.6583 0.146446 11.8536C0.341709 12.0488 0.658291 12.0488 0.853554 11.8536L11 1.70711V6.5C11 6.77614 11.2239 7 11.5 7C11.7761 7 12 6.77614 12 6.5V0.5Z" fill=""/>
                                  </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="container-fluid">
            <div class="container-primary">
                <div class="section-footer">
                    <div class="footer-title text-center">Got a question?</div>
                    <div class="footer-subtitle text-center">
                        We’re here to help. Check out our FAQs, send us an email or call
                        us at 2 600 7777 9999
                    </div>
                    <div class="row g-5">
                        <div class="col-xl-3 col-md-6 col-12">
                            <div class="footer-logo">
                                <img width="200" src="./asset/media/img/logo-white-png.png" alt="" />
                            </div>
                            <div class="footer-information">
                                <div class="footer-widget-block">
                                    <div class="footer-widget-title">
                                        Call us <br />123 456 7890
                                    </div>
                                    <div class="footer-widget-infor-p">
                                        328 Queensberry Street, North Melbourne VIC <br />3051,
                                        Australia.<br />support@superio.com
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-2 col-md-6 col-12">
                            <div class="footer-widget-title mb-4">For Candidates</div>
                            <div class="footer-widget-link">
                                <a href="">Browse Jobs</a>
                            </div>
                        </div>
                        <div class="col-xl-2 col-md-6 col-12">
                            <div class="footer-widget-title mb-4">For Employers</div>
                            <div class="footer-widget-link">
                                <a href="">All Employers</a>
                            </div>
                        </div>
                        <div class="col-xl-2 col-md-6 col-12">
                            <div class="footer-widget-title mb-4">About Us</div>
                            <div class="footer-widget-link">
                                <a href="">Contact Us</a>
                            </div>
                            <div class="footer-widget-link">
                                <a href="">About Us</a>
                            </div>
                            <div class="footer-widget-link">
                                <a href="">Terms</a>
                            </div>
                            <div class="footer-widget-link">
                                <a href="">FAQs</a>
                            </div>
                        </div>
                        <div class="col-xl-3 col-md-6 col-12">
                            <div class="footer-widget-block">
                                <div class="footer-widget-title mb-4">Join Us On</div>
                                <div class="footer-widget-infor-p mb-4">
                                    We don’t send spam so don’t worry.
                                </div>
                                <div class="footer-sub-box">
                                    <input class="footer-sub-input" type="email" name="" id=""
                                        placeholder="Your e-mail" />
                                    <button class="footer-sub-submit">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="12"
                                            viewBox="0 0 16 12" fill="currentColor">
                                            <path
                                                d="M0 2C0 0.895431 0.895431 0 2 0H14C15.1046 0 16 0.89543 16 2V10C16 11.1046 15.1046 12 14 12H2C0.895431 12 0 11.1046 0 10V2ZM2 1C1.44772 1 1 1.44772 1 2V2.2169L8 6.4169L15 2.2169V2C15 1.44772 14.5523 1 14 1H2ZM15 3.3831L10.2919 6.20794L15 9.10522V3.3831ZM14.9662 10.2586L9.32583 6.7876L8 7.5831L6.67417 6.7876L1.03376 10.2586C1.14774 10.6855 1.53715 11 2 11H14C14.4628 11 14.8523 10.6855 14.9662 10.2586ZM1 9.10522L5.70808 6.20794L1 3.3831V9.10522Z"
                                                fill="" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
    <link rel="stylesheet" href="./asset/bootstrap-5.0.2-dist/js/bootstrap.min.js" />
    <script>
        async function handleLogin(event) {
            event.preventDefault();

            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            const response = await fetch(`https://jobproj.xelanthantoc.workers.dev/login`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                credentials: "include",
                body: JSON.stringify({ username, password }),
            });

            const result = await response.json();
            const token = result.token;
            const role = result.role;

            if (result.success) {
                localStorage.setItem('token', token);
                localStorage.setItem('username', username);
                localStorage.setItem('role', role);
                alert(result.message); // Thông báo đăng nhập thành công
                if (role === "admin"){
                    window.location.href = 'https://deadinside.pages.dev/public/account_infor';
                }
                else
                window.location.href = 'https://deadinside.pages.dev/public/home';
            } else {
                alert(result.message); // Thông báo đăng nhập thất bại
            }
        }

        document.getElementById('login-form').addEventListener('submit', handleLogin);
    </script>
</body>

</html>